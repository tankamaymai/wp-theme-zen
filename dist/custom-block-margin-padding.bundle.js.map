{"version":3,"file":"custom-block-margin-padding.bundle.js","mappings":"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","sources":["webpack://wp-theme-zen/external window [\"wp\",\"blockEditor\"]","webpack://wp-theme-zen/external window [\"wp\",\"components\"]","webpack://wp-theme-zen/external window [\"wp\",\"compose\"]","webpack://wp-theme-zen/external window [\"wp\",\"element\"]","webpack://wp-theme-zen/external window [\"wp\",\"hooks\"]","webpack://wp-theme-zen/external window [\"wp\",\"i18n\"]","webpack://wp-theme-zen/webpack/bootstrap","webpack://wp-theme-zen/webpack/runtime/compat get default export","webpack://wp-theme-zen/webpack/runtime/define property getters","webpack://wp-theme-zen/webpack/runtime/hasOwnProperty shorthand","webpack://wp-theme-zen/./js/custom-block-margin-padding.jsx"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody,TextControl,__experimentalBoxControl as BoxControl  } from '@wordpress/components';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\nimport { useState } from '@wordpress/element';\n\n// スタイルを適用するための関数\nconst getSpacingStyle = (spacing) => {\n    if (!spacing) return {};\n    const style = {};\n    const unit = spacing.unit || 'px';\n\n    if (spacing.margin) {\n        style.marginTop = `${spacing.margin.top || 0}${unit}`;\n        style.marginBottom = `${spacing.margin.bottom || 0}${unit}`;\n        style.marginLeft = `${spacing.margin.left || 0}${unit}`;\n        style.marginRight = `${spacing.margin.right || 0}${unit}`;\n    }\n\n    if (spacing.padding) {\n        style.paddingTop = `${spacing.padding.top || 0}${unit}`;\n        style.paddingBottom = `${spacing.padding.bottom || 0}${unit}`;\n        style.paddingLeft = `${spacing.padding.left || 0}${unit}`;\n        style.paddingRight = `${spacing.padding.right || 0}${unit}`;\n    }\n\n    return style;\n};\n\nconst SpacingControl = ({ BlockEdit, ...props }) => {\n    const { attributes, setAttributes } = props;\n    const { style } = attributes;\n    const onChangeSpacing = (newSpacing, type) => {\n        const updatedObj = {\n            top: /^\\d+$/.test(newSpacing.top) ? newSpacing.top + 'px' : newSpacing.top,\n            bottom: /^\\d+$/.test(newSpacing.bottom) ? newSpacing.bottom + 'px' : newSpacing.bottom,\n            left: /^\\d+$/.test(newSpacing.left) ? newSpacing.left + 'px' : newSpacing.left,\n            right: /^\\d+$/.test(newSpacing.right) ? newSpacing.right + 'px' : newSpacing.right,\n        };\n        setAttributes({\n            style: {\n                ...style,\n                spacing: {\n                    ...style?.spacing,\n                    [type]: {\n                        ...style?.spacing?.[type],\n                        ...updatedObj,\n                    },\n                    unit: newSpacing.unit || style?.spacing?.unit || 'px',\n                },\n            },\n        });\n    };\n\n    return (\n        <>\n            <BlockEdit {...props} />\n            <InspectorControls>\n                <PanelBody\n                    title={\n                        <>\n                            <img\n                                src={`${myThemeData.themeUrl}/assets/icon.png`}\n                                alt=\"ZEN\"\n                                style={{ width: '18px', height: '18px', marginRight: '5px' }}\n                            />\n                            {__('余白設定', 'your-textdomain')}\n                        </>\n                    }\n                    initialOpen={false}\n                >\n                    <BoxControl\n                        label={__('マージン', 'your-textdomain')}\n                        values={style?.spacing?.margin || { top: 0, bottom: 0, left: 0, right: 0, unit: 'px' }}\n                        onChange={(newMargin) => onChangeSpacing(newMargin, 'margin')}\n                        units={[\n                            { value: 'px', label: 'px' },\n                            { value: 'em', label: 'em' },\n                            { value: 'rem', label: 'rem' },\n                            { value: '%', label: '%' },\n                        ]}\n                    />\n\n\n                    <BoxControl\n                        label={__('パディング', 'your-textdomain')}\n                        values={style?.spacing?.padding || { top: 0, bottom: 0, left: 0, right: 0, unit: 'px' }}\n                        onChange={(newPadding) => {\n                            onChangeSpacing(newPadding, 'padding')\n                        }}\n                        \n                        __nextHasNoMarginBottom\n                        units={[\n                            { value: 'px', label: 'px' },\n                            { value: 'em', label: 'em' },\n                            { value: 'rem', label: 'rem' },\n                            { value: '%', label: '%' }\n                        ]}\n                    />\n                </PanelBody>\n            </InspectorControls>\n        </>\n    );\n};\n\nconst withSpacingControl = createHigherOrderComponent(\n    (BlockEdit) => (props) => (\n        <SpacingControl BlockEdit={BlockEdit} {...props} />\n    ),\n    'withSpacingControl'\n);\n\nconst addSpacingStyles = createHigherOrderComponent(\n    (BlockListBlock) => (props) => {\n        const { attributes } = props;\n        const spacingStyle = getSpacingStyle(attributes?.style?.spacing);\n        return <BlockListBlock {...props} style={{ ...props.style, ...spacingStyle }} />;\n    },\n    'addSpacingStyles'\n);\n// myThemeDataの存在チェックを追加\nconst themeUrl = typeof myThemeData !== 'undefined' ? myThemeData.themeUrl : '';\n// フィルターの名前空間を変更\naddFilter(\n    'editor.BlockEdit',\n    'zen-theme/with-spacing-control',  // 変更\n    withSpacingControl\n);\n\naddFilter(\n    'editor.BlockListBlock',\n    'zen-theme/add-spacing-styles',  // 変更\n    addSpacingStyles\n);\n\nexport { getSpacingStyle, SpacingControl, withSpacingControl, addSpacingStyles };"],"names":["module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","SpacingControl","_ref","_style$spacing3","_style$spacing4","BlockEdit","props","_objectWithoutProperties","_excluded","attributes","setAttributes","style","onChangeSpacing","newSpacing","type","_style$spacing","_style$spacing2","updatedObj","top","test","bottom","left","right","_objectSpread","spacing","_defineProperty","unit","React","createElement","Fragment","InspectorControls","PanelBody","title","src","concat","myThemeData","themeUrl","alt","width","height","marginRight","__","initialOpen","BoxControl","label","values","margin","onChange","newMargin","units","value","padding","newPadding","__nextHasNoMarginBottom","withSpacingControl","createHigherOrderComponent","_extends","addSpacingStyles","BlockListBlock","_attributes$style","spacingStyle","marginTop","marginBottom","marginLeft","paddingTop","paddingBottom","paddingLeft","paddingRight","getSpacingStyle","addFilter"],"sourceRoot":""}