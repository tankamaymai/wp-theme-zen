{"version":3,"file":"custom-block-margin-padding.bundle.js","mappings":"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","sources":["webpack://wp-theme-zen/external window [\"wp\",\"blockEditor\"]","webpack://wp-theme-zen/external window [\"wp\",\"components\"]","webpack://wp-theme-zen/external window [\"wp\",\"compose\"]","webpack://wp-theme-zen/external window [\"wp\",\"hooks\"]","webpack://wp-theme-zen/external window [\"wp\",\"i18n\"]","webpack://wp-theme-zen/webpack/bootstrap","webpack://wp-theme-zen/webpack/runtime/compat get default export","webpack://wp-theme-zen/webpack/runtime/define property getters","webpack://wp-theme-zen/webpack/runtime/hasOwnProperty shorthand","webpack://wp-theme-zen/./js/custom-block-margin-padding.jsx"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, __experimentalBoxControl as BoxControl } from '@wordpress/components';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\n// スタイルを適用するための関数\nconst getSpacingStyle = (spacing) => {\n    if (!spacing) return {};\n    const style = {};\n\n    // マージンにユーザーが選択した単位を適用\n    if (spacing.margin) {\n        style.marginTop = `${spacing.margin.top}${spacing.margin.unit}`;\n        style.marginBottom = `${spacing.margin.bottom}${spacing.margin.unit}`;\n        style.marginLeft = `${spacing.margin.left}${spacing.margin.unit}`;\n        style.marginRight = `${spacing.margin.right}${spacing.margin.unit}`;\n    }\n\n    // パディングにユーザーが選択した単位を適用\n    if (spacing.padding) {\n        style.paddingTop = `${spacing.padding.top}${spacing.padding.unit}`;\n        style.paddingBottom = `${spacing.padding.bottom}${spacing.padding.unit}`;\n        style.paddingLeft = `${spacing.padding.left}${spacing.padding.unit}`;\n        style.paddingRight = `${spacing.padding.right}${spacing.padding.unit}`;\n    }\n\n    return style;\n};\n\nconst SpacingControl = ({ BlockEdit, ...props }) => {\n    const { attributes, setAttributes } = props;\n    const { style } = attributes;\n\n    const onChangeSpacing = (newSpacing, type) => {\n        setAttributes({\n            style: {\n                ...style,\n                spacing: {\n                    ...style?.spacing,\n                    [type]: newSpacing\n                }\n            }\n        });\n    };\n\n    return (\n        <>\n            <BlockEdit {...props} />\n            <InspectorControls>\n                <PanelBody \n                    title={\n                        <>\n                            <img\n                                src={`${myThemeData.themeUrl}/assets/icon.png`}\n                                alt=\"ZEN\"\n                                style={{ width: '18px', height: '18px', marginRight: '5px' }}\n                            />\n                            {__('余白設定', 'your-textdomain')}\n                        </>\n                    } \n                    initialOpen={false}\n                >\n                    <BoxControl\n                        label={__('マージン', 'your-textdomain')}\n                        values={style?.spacing?.margin || {}}\n                        onChange={(newMargin) => onChangeSpacing(newMargin, 'margin')}\n                        __nextHasNoMarginBottom\n                        units={[\n                            { value: 'px', label: 'px' },\n                            { value: 'em', label: 'em' },\n                            { value: 'rem', label: 'rem' },\n                            { value: '%', label: '%' }\n                        ]}\n                    />\n                    <BoxControl\n                        label={__('パディング', 'your-textdomain')}\n                        values={style?.spacing?.padding || {}}\n                        onChange={(newPadding) => onChangeSpacing(newPadding, 'padding')}\n                        __nextHasNoMarginBottom\n                        units={[\n                            { value: 'px', label: 'px' },\n                            { value: 'em', label: 'em' },\n                            { value: 'rem', label: 'rem' },\n                            { value: '%', label: '%' }\n                        ]}\n                    />\n                </PanelBody>\n            </InspectorControls>\n        </>\n    );\n};\n\nconst withSpacingControl = createHigherOrderComponent(\n    (BlockEdit) => (props) => (\n        <SpacingControl BlockEdit={BlockEdit} {...props} />\n    ),\n    'withSpacingControl'\n);\n\nconst addSpacingStyles = createHigherOrderComponent(\n    (BlockListBlock) => (props) => {\n        const { attributes } = props;\n        const spacingStyle = getSpacingStyle(attributes?.style?.spacing);\n        return <BlockListBlock {...props} style={{ ...props.style, ...spacingStyle }} />;\n    },\n    'addSpacingStyles'\n);\n// myThemeDataの存在チェックを追加\nconst themeUrl = typeof myThemeData !== 'undefined' ? myThemeData.themeUrl : '';\n// フィルターの名前空間を変更\naddFilter(\n    'editor.BlockEdit',\n    'zen-theme/with-spacing-control',  // 変更\n    withSpacingControl\n);\n\naddFilter(\n    'editor.BlockListBlock',\n    'zen-theme/add-spacing-styles',  // 変更\n    addSpacingStyles\n);\n\nexport { getSpacingStyle, SpacingControl, withSpacingControl, addSpacingStyles };"],"names":["module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","SpacingControl","_ref","_style$spacing","_style$spacing2","BlockEdit","props","_objectWithoutProperties","_excluded","attributes","setAttributes","style","onChangeSpacing","newSpacing","type","_objectSpread","spacing","_defineProperty","React","createElement","Fragment","InspectorControls","PanelBody","title","src","concat","myThemeData","themeUrl","alt","width","height","marginRight","__","initialOpen","BoxControl","label","values","margin","onChange","newMargin","__nextHasNoMarginBottom","units","value","padding","newPadding","withSpacingControl","createHigherOrderComponent","_extends","addSpacingStyles","BlockListBlock","_attributes$style","spacingStyle","marginTop","top","unit","marginBottom","bottom","marginLeft","left","right","paddingTop","paddingBottom","paddingLeft","paddingRight","getSpacingStyle","addFilter"],"sourceRoot":""}