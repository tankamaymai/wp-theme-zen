{"version":3,"file":"content-with.bundle.js","mappings":"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","sources":["webpack://wp-theme-zen/external window [\"wp\",\"blockEditor\"]","webpack://wp-theme-zen/external window [\"wp\",\"components\"]","webpack://wp-theme-zen/external window [\"wp\",\"compose\"]","webpack://wp-theme-zen/external window [\"wp\",\"hooks\"]","webpack://wp-theme-zen/external window [\"wp\",\"i18n\"]","webpack://wp-theme-zen/webpack/bootstrap","webpack://wp-theme-zen/webpack/runtime/compat get default export","webpack://wp-theme-zen/webpack/runtime/define property getters","webpack://wp-theme-zen/webpack/runtime/hasOwnProperty shorthand","webpack://wp-theme-zen/./js/content-with.jsx"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, SelectControl } from '@wordpress/components';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\n// ブロックの属性を拡張\nfunction addContentWidthAttribute(settings) {\n    if (typeof settings.attributes !== 'undefined') {\n        settings.attributes = {\n            ...settings.attributes,\n            contentWidth: {\n                type: 'string',\n                default: ''\n            }\n        };\n    }\n    return settings;\n}\n\nconst ContentWidthControl = ({ BlockEdit, ...props }) => {\n    const { attributes, setAttributes } = props;\n\n    return (\n        <>\n            <BlockEdit {...props} />\n            <InspectorControls>\n                <PanelBody\n                    title={\n                        <>\n                            <img\n                                src={`${myThemeData.themeUrl}/assets/icon.png`}\n                                alt=\"ZEN\"\n                                style={{ width: '18px', height: '18px', marginRight: '5px' }}\n                            />\n                            {__(\"コンテンツの幅\", \"text-domain\")}\n                        </>\n                    }\n                    initialOpen={false}\n                >\n                    <SelectControl\n                        label={__(\"コンテンツの幅を選択\", \"text-domain\")}\n                        value={attributes.contentWidth || '1100px'}\n                        options={[\n                            { label: '800px', value: '800px' },\n                            { label: '1100px', value: '1100px' },\n                            { label: '1400px', value: '1400px' },\n                            { label: '100%', value: '100%' },\n                        ]}\n                        onChange={(newWidth) => setAttributes({ contentWidth: newWidth })}\n                        __nextHasNoMarginBottom={true}\n                            />\n                        </PanelBody>\n            </InspectorControls>\n        </>\n    );\n};\n\nconst withContentWidthControl = createHigherOrderComponent(\n    (BlockEdit) => (props) => (\n        <ContentWidthControl BlockEdit={BlockEdit} {...props} />\n    ),\n    'withContentWidthControl'\n);\n\nconst applyContentWidthStyle = (extraProps, blockType, attributes) => {\n    if (attributes.contentWidth) {\n        if (attributes.contentWidth === '100%') {\n            const hasSidebar = window.mythemeHasSidebar !== undefined ? \n                window.mythemeHasSidebar : true;\n            \n            if (hasSidebar) {\n                extraProps.style = { \n                    ...extraProps.style,\n                    width: '100%',\n                    boxSizing: 'border-box'\n                };\n            } else {\n                extraProps.style = { \n                    ...extraProps.style,\n                    width: '100vw',\n                    marginLeft: 'calc(50% - 50vw)',\n                    marginRight: 'calc(50% - 50vw)',\n                    paddingLeft: 'calc(50vw - 50%)',\n                    paddingRight: 'calc(50vw - 50%)',\n                    boxSizing: 'border-box'\n                };\n            }\n        } else {\n            extraProps.style = { \n                ...extraProps.style, \n                maxWidth: attributes.contentWidth, \n                width: '100%',\n            };\n        }\n    }\n    return extraProps;\n};\n\naddFilter(\n    'blocks.registerBlockType',\n    'my-plugin/content-width-attribute',\n    addContentWidthAttribute\n);\n\naddFilter(\n    'editor.BlockEdit',\n    'my-plugin/with-content-width-control',\n    withContentWidthControl\n);\n\naddFilter(\n    'blocks.getSaveContent.extraProps',\n    'my-plugin/apply-content-width-style',\n    applyContentWidthStyle\n);\n\nexport {\n    addContentWidthAttribute,\n    ContentWidthControl,\n    withContentWidthControl,\n    applyContentWidthStyle\n};"],"names":["module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","ContentWidthControl","_ref","BlockEdit","props","_objectWithoutProperties","_excluded","attributes","setAttributes","React","createElement","Fragment","InspectorControls","PanelBody","title","src","concat","myThemeData","themeUrl","alt","style","width","height","marginRight","__","initialOpen","SelectControl","label","value","contentWidth","options","onChange","newWidth","__nextHasNoMarginBottom","withContentWidthControl","createHigherOrderComponent","_extends","addFilter","settings","_objectSpread","type","default","extraProps","blockType","hasSidebar","mythemeHasSidebar","boxSizing","marginLeft","paddingLeft","paddingRight","maxWidth"],"sourceRoot":""}